<!--
Copyright 2019, Danang Galuh Tegar Prasetyo & Mokhamad Mustaqim.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Real time pulse sensor monitoring.">
    <meta name="author" content="Danang Galuh Tegar Prasetyo">
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.css"/>

    <title>Real-Time Heart Rate</title>

</head>
<body>

    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 mr-md-auto font-weight-normal">Real-Time Heart Rate</h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark active" href="#"><strong>Monitoring</strong></a>
            <a class="p-2 text-dark active" href="https://github.com/danang-id/realtime-heart-rate">Source Code</a>
        </nav>
    </div>

    <div class="px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
        <h1 class="display-4">Monitoring</h1>
        <p class="lead">Monitors heart rate emitted by device (pulse sensor).</p>
    </div>

    <div class="container">

        <div class="information"></div>

        <div class="row">
            <div class="col-lg-4">
                <select class="custom-select device-select" style="margin-bottom: 20px;">
                    <option selected disabled>Getting device data...</option>
                </select>
                <br/>
                <div class="card heart-rate-card mb-4 shadow">
                    <div class="card-header">
                        <h4 class="my-0 font-weight-normal">Heart Rate</h4>
                    </div>
                    <div class="card-body">
                        <h1 class="card-title pricing-card-title"><span class="heart-rate">0</span> <small class="text-muted">bpm</small></h1>
                        <p class="heart-rate-emit-time"></p>
                    </div>
                </div>
                <div class="float-right" style="margin-bottom: 15px;">
                    <button id="change-chart-button" type="button" class="btn btn-danger btn-sm" style="display: none;"></button>
                </div>
                <canvas id="heart-rate-chart" class="chart heart-rate-chart" width="95%" aspectRatio=2 responsive="true"></canvas>
                <br />
            </div>
            <div class="col-lg-8">
                <table class="table heart-rate-table display">
                    <thead class="thead-light">
                    <tr>
                        <th scope="col">Heart Rate</th>
                        <th scope="col">Emitted At</th>
                        <th scope="col">Transport Delay</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>

        <footer class="pt-4 my-md-5 pt-md-5 border-top">
            <div class="row">
                <div class="col-12 col-md">
                    <img class="mb-2" src="/static/img/icon.png" alt="" width="24" height="24">
                    <small class="d-block mb-3 text-muted copyright"></small>
                </div>
            </div>
        </footer>
    </div>

    <script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="//cdn.datatables.net/v/bs4/dt-1.10.18/datatables.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js" integrity="sha256-oSgtFCCmHWRPQ/JmR4OoZ3Xke1Pw4v50uh6pLcu+fIc=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" integrity="sha256-4iQZ6BVL4qNKlQ27TExEhBN1HFPvAvAMbFavKKosSWQ=" crossorigin="anonymous"></script>
    <script src="static/js/main.js"></script>
    <script lang="js">
        (function() {
            main();
        })();
    </script>

</body>
</html>
